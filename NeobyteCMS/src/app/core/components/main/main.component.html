<div id="content" class="sb-nav-fixed">
  <nav class="sb-topnav navbar navbar-expand navbar-dark d-flex ">
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!">
      <i class="fa fa-bars"></i>
    </button>
    <!-- Navbar Brand-->
    <a class="navbar-brand ps-3" href="index.html">
      <img src="https://neobyte.net/billing/assets/img/logo.png" alt="logo" width="auto"
           height="30" class="d-inline-block align-text-top">
    </a>
    <!-- Navbar-->
    <ul class="navbar-nav ms-auto me-3 me-lg-4 ml-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
           aria-expanded="false"><i class="fa fa-user fa-fw"></i> </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
          <li><a class="dropdown-item" href="/profile">Edit Profile</a></li>
          <li>
            <hr class="dropdown-divider"/>
          </li>
          <li><a class="dropdown-item" href="/logout">Logout</a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <div id="layoutSidenav">
    <div id="layoutSidenav_nav">
      <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
        <div class="sb-sidenav-menu">
          <div class="nav">
            <div class="sb-sidenav-menu-heading">Main</div>
            <a [routerLinkActive]="['active']" [routerLink]="['sites']" class="nav-link " href="/sites">
              <div class="sb-nav-link-icon"><i class="fa fa-window-maximize"></i></div>
              Sites
            </a>
            <a [routerLinkActive]="['active']" [routerLink]="['users']" class="nav-link" href="/users">
              <div class="sb-nav-link-icon"><i class="fa-regular fa-user"></i></div>
              Users
            </a>
            <a [routerLinkActive]="['active']" [routerLink]="['settings']" class="nav-link" href="/settings">
              <div class="sb-nav-link-icon"><i class="fa fa-gear"></i></div>
              Settings
            </a>
            <ng-template [ngIf]="router.url === '/sites' || router.url === '/sites/new'">
              <div class="sb-sidenav-menu-heading">Admin</div>
              <a class="nav-link" href="/sites/new">
                <div class="sb-nav-link-icon"><i class="fa-regular fa-plus"></i></div>
                New Site
              </a>
            </ng-template>

            <ng-template [ngIf]="router.url === '/users' || router.url === '/sites/new'">
              <div class="sb-sidenav-menu-heading">Admin</div>
              <a class="nav-link" href="/users/new">
                <div class="sb-nav-link-icon"><i class="fa fa-plus"></i></div>
                New User
              </a>
            </ng-template>

            <ng-template [ngIf]="router.url === '/users' || router.url === '/sites/new'">
              <div class="sb-sidenav-menu-heading">Actions</div>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-user"></i></div>
                Edit Profile
              </a>
            </ng-template>

            <!-- If admin -->
            <ng-template [ngIf]="router.url.includes('/sites/')">
              <div class="sb-sidenav-menu-heading">Admin</div>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-check"></i></div>
                Enable Pages
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-code"></i></div>
                Manage Templates
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-cube"></i></div>
                Manage Blocks
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-heart-pulse"></i></div>
                Page Health
              </a>
            </ng-template>

            <!-- check if url is /sites/:id -->
            <ng-template [ngIf]="router.url.includes('/sites/')">
              <div class="sb-sidenav-menu-heading">Actions</div>
              <a class="nav-link disabled" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa-regular fa-plus"></i></div>
                New Page
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa-regular fa-folder"></i></div>
                Manage Files
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-chart-line"></i></div>
                Page Stats
              </a>
              <a class="nav-link" href="/profile">
                <div class="sb-nav-link-icon"><i class="fa fa-external-link"></i></div>
                View Website
              </a>
            </ng-template>

            <ng-template [ngIf]="router.url.includes('/sites/')">
              <!-- add border border-top:  to top of div and blue button in the middle -->
              <div class="button-group">
                <button type="button" class="btn btn-primary w-100 mb-1" >Publish</button>
                <button type="button" class="btn btn-default w-100" >Cancel</button>
              </div>
            </ng-template>

          </div>
        </div>
      </nav>
    </div>
    <div id="layoutSidenav_content">
      <app-breadcrumb></app-breadcrumb>
      <main class="p-3 offset-md-1 col-md-10 col-sm-12">
        <router-outlet></router-outlet>
      </main>
      <footer class="py-4 bg-light mt-auto">
        <div class="container-fluid px-4">
          <div class="d-flex align-items-center justify-content-between small">
            <div class="text-muted">Copyright &copy; Neobyte</div>
            <div>
              <a href="#">Privacy Policy</a>
              &middot;
              <a href="#">Terms &amp; Conditions</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>
</div>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#manageFilesModal">
  Launch demo modal
</button>

<app-unsaved-changes-modal></app-unsaved-changes-modal>
<app-manage-files-modal></app-manage-files-modal>
