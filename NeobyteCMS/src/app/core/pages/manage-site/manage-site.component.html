<app-sidebar>
  <!-- Sidebar Extra Nav Options -->
  <div child-header>
    <div class="sb-sidenav-menu-heading">Admin</div>
    <a  type="button" class="nav-link" (click)="testConnection()">
      <div class="sb-nav-link-icon"><i class="fa fa-wifi"></i></div>
      Test Connection
    </a>
  </div>

  <!-- Content Regio for that page -->
  <div id="layoutSidenav_content" child-content>
    <app-breadcrumb></app-breadcrumb>
    <main class="p-3 offset-md-3 col-md-5 col-sm-12">
      <form (ngSubmit)="onUpdateSite()" *ngIf="site">
        <div class="form-style">
          <div class="container">
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">General</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link" data-bs-toggle="tab" data-bs-target="#services" type="button" role="tab" aria-controls="services" aria-selected="false">Services</a>
              </li>
              <li class="nav-item" role="presentation">
                <a class="nav-link" data-bs-toggle="tab" data-bs-target="#advanced" type="button" role="tab" aria-controls="advanced" aria-selected="false">Advanced</a>
              </li>
            </ul>
            <div class="tab-content">
              <div id="general" role="tabpanel" aria-labelledby="general-tab" class="tab-pane show active">
                <div class="form-group">
                  <label for="WebsiteName">Name</label>
                  <input [(ngModel)]="site.name" type="text" name="name" id="WebsiteName" class="form-control" placeholder="Enter a name for your website">
                  <small class="form-text text-muted">Enter your website's name</small>
                </div>
                <div class="form-group">
                  <label for="domain">domain</label>
                  <input [(ngModel)]="site.domain" name="domain" type="text" id="domain" class="form-control" placeholder="https://example.com/">
                  <small class="form-text text-muted">Enter your website's URL</small>
                </div>
                <hr>
                <div class="form-group">
                  <label for="Protocol">Protocol</label>
                  <select [(ngModel)]="site.protocol" name="protocol" id="Protocol" class="form-control">
                    <option>FTP</option>
                    <option>FTP with TLS/SSL</option>
                    <option>SFTP</option>
                    <option>S3</option>
                    <option>WebDAV</option>
                  </select>
                </div>
                <div class="form-group d-flex">
                  <label for="Host" class="me-2">Host</label>
                  <input [(ngModel)]="site.host" name="host" type="text" id="Host" class="form-control me-2" placeholder="ftp.example.com">
                  <label for="Port">Port</label>
                  <input [(ngModel)]="site.port" name="port" type="text" id="Port" class="form-control ml-2" placeholder="21">
                </div>
                <div class="form-group d-flex">
                  <label for="Username" class="me-2">Username</label>
                  <input [(ngModel)]="site.username" name="username" type="text" id="Username" class="form-control me-2">
                  <label for="Password">Password</label>
                  <input [(ngModel)]="site.password" name="password" type="password" id="Password" class="form-control ml-2">
              </div>
                <hr>
                <div class="form-group d-flex mb-4">
                  <label for="HomeFolder" class="me-2">Home folder</label>
                  <input [(ngModel)]="site.homeFolder" name="homeFolder" type="text" id="HomeFolder" class="form-control me-2">
                  <button class="btn btn-primary ml-2">Browse</button>
                     </div>
                <div class="form-group d-flex">
                  <label for="UploadFolder" class="me-2">Upload folder</label>
                  <input [(ngModel)]="site.uploadFolder" name="uploadFolder" type="text" id="UploadFolder" class="form-control me-2">
                  <button class="btn btn-primary ml-2">Browse</button>
                   </div>
                <small class="form-text text-muted">Select the folder where uploaded files will be stored.</small>
              </div>
              <div  id="services" role="tabpanel" aria-labelledby="services-tab" class="tab-pane">
                <div class="form-group">
                  <label for="GoogleAnalytics">Connect Google Analytics</label>
                  <input [(ngModel)]="site.gaProfileId" name="gaProfileId" type="text" id="GoogleAnalytics" class="form-control">
                  </div>
              </div>
              <div  id="advanced" role="tabpanel" aria-labelledby="advanced-tab" class="tab-pane">
                <div class="form-group">
                  <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="Lockdown">
                    <label [(ngModel)]="site.isLocked" name="isLocked" class="custom-control-label" for="Lockdown">Enable Lockdown</label>
                  </div>
                  <small class="form-text text-muted">When enabled, users won't be able to publish changes to the
                    site.</small>
                </div>
                <div class="form-group">
                  <br>
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Delete website</h5>
                      <p class="card-text">This deletes the website from our CMS. It stil remains on the hosting.</p>
                      <a href="#" class="btn btn-danger"  type="button" (click)="onDeleteSite()">Delete</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <button class="btn btn-primary" type="submit" >Update</button>
        </div>
      </form>
    </main>
    <app-footer class="mt-auto"></app-footer>
  </div>
</app-sidebar>
