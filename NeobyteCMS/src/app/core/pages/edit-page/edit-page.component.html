<div id="loading">
  <div class="d-flex justify-content-center">
    <div class="spinner-grow" role="status">
    </div>
  </div>
</div>
<app-sidebar>
  <!-- Sidebar Extra Nav Options -->
  <div child-header>
    <div *ngIf="userRole == 'OWNER'" class="sb-sidenav-menu-heading">Admin</div>
      <a *ngIf="userRole == 'OWNER'" class="nav-link" href="/sites/{{siteId}}/pages/{{pageId}}/source">
        <div class="sb-nav-link-icon"><i class="fa fa-code"></i></div>
        Edit Source
      </a>

    <div class="sb-sidenav-menu-heading">Actions</div>
    <a class="nav-link" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
       aria-controls="offcanvasRight">
      <div class="sb-nav-link-icon"><i class="fa-solid fa-info"></i></div>
      Edit Metadata
    </a>
    <a class="nav-link" type="button" data-bs-toggle="modal" data-bs-target="#manageFilesModal">
      <div class="sb-nav-link-icon"><i class="fa-regular fa-folder"></i></div>
      Manage Files
    </a>
    <a class="nav-link" href="{{this.data.site.domain}}">
      <div class="sb-nav-link-icon"><i class="fa fa-external-link"></i></div>
      View Webpage
    </a>
    <div class="button-group">
      <button type="button" class="btn btn-primary w-100 mb-1" (click)="onPublishSite()">Publish</button>
      <button type="button" class="btn btn-default w-100">Cancel</button>
    </div>
  </div>

  <!-- Content Regio for that page -->
  <div id="layoutSidenav_content" child-content>
    <iframe #content_edit style="width: 100%; height: 100%"></iframe>
    <!-- sandbox="allow-same-origin" -->
  </div>
  <!-- tinyMCE -->
  <!--  <editor *ngIf="activeEditor" [init]="activeEditor"></editor>-->
</app-sidebar>

<app-edit-metadata-sidemodal></app-edit-metadata-sidemodal>
<app-manage-files-modal [siteId]="siteId"></app-manage-files-modal>
